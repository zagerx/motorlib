# Motorlib
## motor对象
- motor
    - currment
    - feedback
    - pwm
    - foc
    - 固有参数(待定，也可以使用宏定义)
        - 相电感/相电阻/反电动势常数等
        - 极对数
    - 控制参数
        - mode
        - 状态
        - 命令
    - FSM

## drivers
- 驱动目录
    - 电流采样模块
        - 母线电压，电流
        - 三相电流
    - feedback模块
        - 电角度
        - 机械转速(转/S)
        - 机械位置
    - pwm模块
        - 定时器发波
        - 触发ADC
## lib
- 库目录
    - `motor.h`
        - 电机所有对外接口
            - 获取电机当前模式(力矩模式/速度模式/位置模式)
            - 获取电机当前状态(初始态，运行态，对齐态，停止态，空闲态等)
            - 设置电机当前模式
            - 设置电机当前状态
    - `foc.h`
        - 电机FOC控制参数管理
            - 三相电流/$\alpha\beta$电流/$dq$电流
            - 当前机械角度/电角度/速度
            - 速度滤波器/速度pid参数/位置pid参数/力矩pid参数
        
        - 电机FOC控制算法
            - 速度环控制
                - 速度环初始化
                - 速度环控制
                - 速度环复位
            - 位置环控制
            - svpwm算法
            - 死区补偿算法
            - 最大电压矢量圆限制
            - 滑模观测器
            - 龙伯格观测器